/**
 * Country Configuration
 * Maps country codes to country information including name, currency, and default language
 * Updated to match the 38 supported countries for Vidaki
 */

export const COUNTRIES = {
  AF: { 
    name: 'Afghanistan', 
    code: 'AF', 
    currency: 'AFN', 
    language: 'en',
    hreflang: 'en-AF'
  },
  AL: { 
    name: 'Albania', 
    code: 'AL', 
    currency: 'ALL', 
    language: 'sq',
    hreflang: 'sq-AL'
  },
  AM: { 
    name: 'Armenia', 
    code: 'AM', 
    currency: 'AMD', 
    language: 'hy',
    hreflang: 'hy-AM'
  },
  AZ: { 
    name: 'Azerbaijan', 
    code: 'AZ', 
    currency: 'AZN', 
    language: 'az',
    hreflang: 'az-AZ'
  },
  BY: { 
    name: 'Belarus', 
    code: 'BY', 
    currency: 'BYN', 
    language: 'be',
    hreflang: 'be-BY'
  },
  BA: { 
    name: 'Bosnia & Herzegovina', 
    code: 'BA', 
    currency: 'BAM', 
    language: 'bs',
    hreflang: 'bs-BA'
  },
  BG: { 
    name: 'Bulgaria', 
    code: 'BG', 
    currency: 'BGN', 
    language: 'bg',
    hreflang: 'bg-BG'
  },
  HR: { 
    name: 'Croatia', 
    code: 'HR', 
    currency: 'EUR', 
    language: 'hr',
    hreflang: 'hr-HR'
  },
  CY: { 
    name: 'Cyprus', 
    code: 'CY', 
    currency: 'EUR', 
    language: 'el',
    hreflang: 'el-CY'
  },
  CZ: { 
    name: 'Czechia', 
    code: 'CZ', 
    currency: 'CZK', 
    language: 'cs',
    hreflang: 'cs-CZ'
  },
  DK: { 
    name: 'Denmark', 
    code: 'DK', 
    currency: 'DKK', 
    language: 'da',
    hreflang: 'da-DK'
  },
  EE: { 
    name: 'Estonia', 
    code: 'EE', 
    currency: 'EUR', 
    language: 'et',
    hreflang: 'et-EE'
  },
  FI: { 
    name: 'Finland', 
    code: 'FI', 
    currency: 'EUR', 
    language: 'fi',
    hreflang: 'fi-FI'
  },
  GE: { 
    name: 'Georgia', 
    code: 'GE', 
    currency: 'GEL', 
    language: 'ka',
    hreflang: 'ka-GE'
  },
  DE: { 
    name: 'Germany', 
    code: 'DE', 
    currency: 'EUR', 
    language: 'de',
    hreflang: 'de-DE'
  },
  GR: { 
    name: 'Greece', 
    code: 'GR', 
    currency: 'EUR', 
    language: 'el',
    hreflang: 'el-GR'
  },
  HU: { 
    name: 'Hungary', 
    code: 'HU', 
    currency: 'HUF', 
    language: 'hu',
    hreflang: 'hu-HU'
  },
  IS: { 
    name: 'Iceland', 
    code: 'IS', 
    currency: 'ISK', 
    language: 'is',
    hreflang: 'is-IS'
  },
  KZ: { 
    name: 'Kazakhstan', 
    code: 'KZ', 
    currency: 'KZT', 
    language: 'kk',
    hreflang: 'kk-KZ'
  },
  KG: { 
    name: 'Kyrgyzstan', 
    code: 'KG', 
    currency: 'KGS', 
    language: 'ky',
    hreflang: 'ky-KG'
  },
  LV: { 
    name: 'Latvia', 
    code: 'LV', 
    currency: 'EUR', 
    language: 'lv',
    hreflang: 'lv-LV'
  },
  LT: { 
    name: 'Lithuania', 
    code: 'LT', 
    currency: 'EUR', 
    language: 'lt',
    hreflang: 'lt-LT'
  },
  MN: { 
    name: 'Mongolia', 
    code: 'MN', 
    currency: 'MNT', 
    language: 'mn',
    hreflang: 'mn-MN'
  },
  ME: { 
    name: 'Montenegro', 
    code: 'ME', 
    currency: 'EUR', 
    language: 'sr',
    hreflang: 'sr-ME'
  },
  MK: { 
    name: 'North Macedonia', 
    code: 'MK', 
    currency: 'MKD', 
    language: 'mk',
    hreflang: 'mk-MK'
  },
  PL: { 
    name: 'Poland', 
    code: 'PL', 
    currency: 'PLN', 
    language: 'pl',
    hreflang: 'pl-PL'
  },
  MD: { 
    name: 'Republic of Moldova', 
    code: 'MD', 
    currency: 'MDL', 
    language: 'ro',
    hreflang: 'ro-MD'
  },
  RO: { 
    name: 'Romania', 
    code: 'RO', 
    currency: 'RON', 
    language: 'ro',
    hreflang: 'ro-RO'
  },
  RU: { 
    name: 'Russia', 
    code: 'RU', 
    currency: 'RUB', 
    language: 'ru',
    hreflang: 'ru-RU'
  },
  RS: { 
    name: 'Serbia', 
    code: 'RS', 
    currency: 'RSD', 
    language: 'sr',
    hreflang: 'sr-RS'
  },
  SK: { 
    name: 'Slovakia', 
    code: 'SK', 
    currency: 'EUR', 
    language: 'sk',
    hreflang: 'sk-SK'
  },
  SI: { 
    name: 'Slovenia', 
    code: 'SI', 
    currency: 'EUR', 
    language: 'sl',
    hreflang: 'sl-SI'
  },
  SE: { 
    name: 'Sweden', 
    code: 'SE', 
    currency: 'SEK', 
    language: 'sv',
    hreflang: 'sv-SE'
  },
  TJ: { 
    name: 'Tajikistan', 
    code: 'TJ', 
    currency: 'TJS', 
    language: 'tg',
    hreflang: 'tg-TJ'
  },
  TR: { 
    name: 'Turkey', 
    code: 'TR', 
    currency: 'TRY', 
    language: 'tr',
    hreflang: 'tr-TR'
  },
  TM: { 
    name: 'Turkmenistan', 
    code: 'TM', 
    currency: 'TMT', 
    language: 'tk',
    hreflang: 'tk-TM'
  },
  UA: { 
    name: 'Ukraine', 
    code: 'UA', 
    currency: 'UAH', 
    language: 'uk',
    hreflang: 'uk-UA'
  },
  UZ: { 
    name: 'Uzbekistan', 
    code: 'UZ', 
    currency: 'UZS', 
    language: 'uz',
    hreflang: 'uz-UZ'
  },
};

// Array of supported country codes (lowercase for URL matching)
export const SUPPORTED_COUNTRIES = Object.keys(COUNTRIES).map(k => k.toLowerCase());

// Array of supported country codes (uppercase for API)
export const SUPPORTED_COUNTRIES_UPPER = Object.keys(COUNTRIES);

// Default country fallback - use Estonia (in supported 38-country list)
export const DEFAULT_COUNTRY = 'EE';

/**
 * Check if a country code is valid
 * @param {string} code - Country code (case-insensitive)
 * @returns {boolean}
 */
export function isValidCountry(code) {
  if (!code) return false;
  return SUPPORTED_COUNTRIES.includes(code.toLowerCase());
}

/**
 * Get country information by code
 * @param {string} code - Country code (case-insensitive)
 * @returns {Object|null} Country object or null if not found
 */
export function getCountryByCode(code) {
  if (!code) return null;
  const upperCode = code.toUpperCase();
  return COUNTRIES[upperCode] || null;
}

/**
 * Get all countries as array
 * @returns {Array} Array of country objects
 */
export function getAllCountries() {
  return Object.values(COUNTRIES);
}

/**
 * Generate hreflang URLs for all countries
 * @param {string} baseUrl - Base website URL (e.g., 'https://vidaki.com')
 * @param {string} path - Current path without country code (e.g., '/item/123')
 * @returns {Object} Object with hreflang codes as keys and URLs as values
 */
export function generateHreflangUrls(baseUrl, path = '') {
  const urls = {};
  Object.entries(COUNTRIES).forEach(([code, country]) => {
    urls[country.hreflang] = `${baseUrl}/${code.toLowerCase()}${path}`;
  });
  urls['x-default'] = `${baseUrl}/${DEFAULT_COUNTRY.toLowerCase()}${path}`;
  return urls;
}
